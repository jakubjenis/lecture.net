@using Smart.Extenders
@{
    foreach (var prop in ViewData.ModelMetadata.Properties.Where(metadata =>
        metadata.ShowForEdit &&
        !metadata.IsComplexType &&
        !ViewData.TemplateInfo.Visited(metadata)))
    {
        @((prop.HideSurroundingHtml || prop.IsComplexType)
            ? Html.Display(prop.PropertyName)
            : Html.LabeledDisplay(prop.PropertyName))
    }
}