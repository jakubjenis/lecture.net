@using Smart.Extenders
@{
    foreach (var prop in ViewData.ModelMetadata.Properties.Where(metadata =>
        metadata.ShowForEdit &&
        !metadata.IsComplexType &&
        !ViewData.TemplateInfo.Visited(metadata)))
    {
        @((prop.HideSurroundingHtml || prop.IsComplexType) 
            ? Html.Editor(prop.PropertyName) 
            : Html.LabeledEditor(prop.PropertyName))
    }
}